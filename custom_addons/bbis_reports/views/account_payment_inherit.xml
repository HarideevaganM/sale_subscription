<odoo>
    <data>
        <record id="bbis_account_payment_pivot" model="ir.ui.view">
            <field name="name">bbis.account.supplier.payment.pivot</field>
            <field name="model">account.payment</field>
            <field name="arch" type="xml">
                <pivot string="Payments">
                    <field name="payment_date" type="col" interval="month"/>
                    <field name="partner_id" type="row"/>
                    <field name="amount" type="measure"/>
                </pivot>
            </field>
        </record>

        <!-- Add search filter for Account Payment -->
        <record model="ir.ui.view" id="bbis_account_payment_search_view">
            <field name="name">bbis.account.payment.search</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_search"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="before">
                    <filter string="This Month" name="this_month" domain="[('payment_date','&gt;=',time.strftime('%%Y-%%m-01'))]"/>
                    <filter string="This Year" name="this_year" domain="[('payment_date','&lt;=', time.strftime('%%Y-12-31')),('payment_date','&gt;=',time.strftime('%%Y-01-01'))]"/>
                    <separator/>
                    <filter string="Unapplied Payments" name="un_applied_payment" domain="[('un_applied_payment','=',False)]"/>
                    <separator/>
                </xpath>
            </field>
        </record>

        <record id="account.action_account_payments" model="ir.actions.act_window">
            <field name="view_mode">tree,kanban,form,graph,pivot</field>
        </record>

    </data>
</odoo>