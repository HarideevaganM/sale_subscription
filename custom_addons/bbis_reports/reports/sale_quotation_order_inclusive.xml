<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Report Setup -->
    <report id="bbis_reports_sale_quotation_inclusive"
        model="sale.order"
        string="Quotation / Order Inclusive (BBIS)"
        report_type="qweb-pdf"
        file="bbis_reports.sale_quotation_order_inclusive"
        name="bbis_reports.sale_quotation_order_inclusive"
        paperformat="bbis_reports.bbis_sale_order_paper_format"
        print_report_name="(object.state in ('draft', 'sent') and 'Quotation %s - Inclusive' % (object.name)) or 'Order %s - Inclusive' % (object.name)"
    /><!-- End: End Report Setup -->

    <!-- Report Template -->
    <template id="sale_quotation_order_document_inclusive">
        <div class="header">
            <div class="text-center">
                <img class="bbis-company-logo" style="height:130px; width:auto;" src="/bbis_reports/static/src/img/blackbox-logo.svg" alt="Logo"/>
            </div>
        </div>
        <div class="article o_report_layout_standard">
            <div class="page">
                <h1 class="text-center" style="margin:0 0 30px 0; font-size:22pt"><strong><span t-if="doc.sale_type in ('service', 'support')" t-esc="'Service '" />Quotation</strong></h1>

                <!-- Sale Quotation Order Header -->
                <div class="bbis-sale-quote-order-header clearfix" >
                    <table>
                        <tr>
                            <th>Customer</th><td class="colon-space">:</td>
                            <td>
                                <span t-field="doc.partner_id" t-options='{"widget": "contact", "fields": ["name"], "no_marker": True}' />
                            </td>
                        </tr>
                        <tr>
                            <th style="vertical-align: top;">Address</th><td class="colon-space">:</td>
                            <td>
                                <t t-if="doc.partner_id.street"><span t-esc="doc.partner_id.street"/><br/></t>

                                <t t-if="doc.partner_id.street2"><span t-esc="doc.partner_id.street2"/>,</t>
                                <t t-if="doc.partner_id.city and doc.partner_id.city.strip()"><span t-esc="doc.partner_id.city"/>,</t>
                                <t t-if="doc.partner_id.state_id">, <span t-esc="doc.partner_id.state_id.name"/>,</t>
                                <t t-if="doc.partner_id.zip and doc.partner_id.zip.strip()"><span t-esc="doc.partner_id.zip"/>,</t>
                                <span t-if="doc.partner_id.country_id" t-esc="doc.partner_id.country_id.name"/>
                            </td>
                        </tr>
                        <tr>
                            <th>Tel No</th><td class="colon-space">:</td>
                            <td>
                                <t t-if="doc.partner_id.phone"><span t-esc="doc.partner_id.phone"/></t>
                            </td>
                        </tr>
                        <tr>
                            <th>Mobile No.</th><td class="colon-space">:</td>
                            <td>
                                <t t-if="doc.res_contact_id"><span t-esc="doc.res_contact_id.mobile"/></t>
                                <t t-else="">
                                    <t t-if="doc.partner_id.mobile"><span t-esc="doc.partner_id.mobile"/></t>
                                </t>
                            </td>
                        </tr>
                        <tr>
                            <th>Email</th><td class="colon-space">:</td>
                            <td>
                                <t t-if="doc.res_contact_id">
                                        <span t-field="doc.res_contact_id" t-options='{"widget": "contact", "fields": ["email"], "no_marker": True}' />
                                </t>
                                <t t-else="">
                                    <span t-field="doc.partner_id" t-options='{"widget": "contact", "fields": ["email"], "no_marker": True}' />
                                </t>
                            </td>
                        </tr>
                        <tr>
                            <th>Attention</th><td class="colon-space">:</td>
                            <td>
                                <span t-if="doc.res_contact_id" t-esc="doc.res_contact_id.name"/>
                            </td>
                        </tr>
                    </table>
                    <table>
                        <tr>
                            <td>
                                <table style="float:right">
                                    <tr>
                                        <th class="text-right">Quote Ref</th><td class="colon-space">:</td>
                                        <td><span t-field="doc.quote_name"/></td>
                                    </tr>
                                    <tr>
                                        <th class="text-right">Date</th><td class="colon-space">:</td>
                                        <td><span t-field="doc.date_order" t-field-options='{"format": "dd/MM/yyyy"}'/></td>
                                    </tr>
                                    <tr>
                                        <th class="text-right">Tel No.</th><td class="colon-space">:</td>
                                        <td><span t-esc="doc.company_id.phone"/></td>
                                    </tr>
                                    <tr>
                                        <th class="text-right">Mobile No.</th><td class="colon-space">:</td>
                                        <td><span t-esc="doc.user_id.mobile"/></td>
                                    </tr>
                                    <tr>
                                        <th class="text-right">Sales Name</th><td class="colon-space">:</td>
                                        <td><span t-if="doc.user_id" t-esc="doc.user_id.name"/></td>
                                    </tr>
                                    <tr t-if="doc.sale_type in ('service', 'support')">
                                        <th class="text-right">Service Type</th><td class="colon-space">:</td>
                                        <td><span t-esc="doc.support_id.subject"/></td>
                                    </tr>
                                    <tr t-else="">
                                        <th class="text-right">Project</th><td class="colon-space">:</td>
                                        <td><span t-esc="doc.title"/></td>
                                    </tr>
                                    <tr>
                                        <th class="text-right">Revision</th><td class="colon-space">:</td>
                                        <td><span t-esc="doc.revisions"/></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                    </table>
                </div><!-- End: Sale Quotation Order Header -->

                <!-- Sale Quotation Order Lines Table -->
                <t t-if="doc.sale_type not in ('lease', 'rental')">
                    <table class="bbis-sale-quote-order-items-table" id="bbisSaleOrderLinesTableHeight">
                        <tr>
                            <th class="text-center bbis_so_th_prod_sn">S/N</th>
                            <th class="text-center bbis_so_th_prod_code">Codes</th>
                            <th class="text-center bbis_so_th_prod_desc">Description</th>
                            <th class="text-center bbis_so_th_prod_qty">Quantity</th>
                            <th class="text-center bbis_so_th_prod_price">Unit Price</th>
                            <t t-if="single_total_discount">
                                <th class="text-center bbis_so_th_prod_discount">Discount</th>
                            </t>
                            <th class="text-right bbis_so_th_prod_amount">
                                <span groups="sale.group_show_price_subtotal">Amount</span>
                                <span groups="sale.group_show_price_total">Amount</span>
                            </th>
                        </tr>
                        <tbody>

                            <t t-set="price_subtotal" t-value="0.0" />
                            <t t-set="discount_total" t-value="0.0" />

                            <tr t-foreach="doc.inclusive_order_line" t-as="l">
                                <td class="text-center"><span t-esc="l_index + 1" /></td>
                                <td class="text-center" style="white-space: nowrap;">
                                    <t t-if="doc.sale_type in ('pilot')">
                                        <span t-field="l.order_line_ids[0].product_id.default_code"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="len(l.order_line_ids) == 1">
                                            <span t-field="l.order_line_ids[0].product_id.default_code"/>
                                        </t>
                                        <t t-else="">N/A</t>
                                    </t>
                                    <!--
                                    <t t-if="doc.sale_type in ('cash','purchase')">
                                        <t t-if="len(l.order_line_ids) == 1">
                                            <span t-field="l.order_line_ids[0].product_id.default_code"/>
                                        </t>
                                        <t t-else="">N/A</t>
                                    </t>
                                    <t t-if="doc.sale_type not in ('cash','purchase')">
                                        <span t-field="l.order_line_ids[0].product_id.default_code"/>
                                    </t>-->
                                </td>
                                <td>
                                    <t t-if="l.name">
                                        <pre class="bbis_word_wrap_description" t-esc="l.name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-foreach="l.order_line_ids" t-as="o">
                                            <div t-esc="o.name[o.name.find('] ')+1:]"/>
                                            <div style="height:7px" t-if="(o_index + 1) &lt; len(l.order_line_ids)"/>
                                        </t>
                                    </t>
                                </td>
                                <td class="text-center">
                                    <span t-if="doc.sale_type in ('pilot')" t-field="l.group_quantity" t-options='{"widget": "float", "precision": 0}'/>
                                    <span t-else="" t-field="l.quantity" t-options='{"widget": "float", "precision": 0}'/>
                                    <!--
                                    <span t-if="doc.sale_type in ('cash', 'purchase')" t-field="l.quantity" t-options='{"widget": "float", "precision": 0}'/>
                                    <span t-if="doc.sale_type not in ('cash', 'purchase')" t-field="l.group_quantity" t-options='{"widget": "float", "precision": 0}'/>
                                    -->
                                </td>
                                <td class="text-right">
                                    <t t-if="doc.sale_type in ('pilot')">
                                        <span t-field="l.order_line_ids[0].price_unit"/>
                                    </t>
                                    <t t-else="">
                                        <span t-field="l.price_unit" t-options='{"widget": "float", "precision": 2}'/>
                                    </t>
                                    <!--<t t-if="doc.sale_type in ('cash','purchase')">
                                        <span t-field="l.price_unit" t-options='{"widget": "float", "precision": 2}'/>
                                    </t>
                                    <t t-if="doc.sale_type not in ('cash','purchase')">
                                        <span t-field="l.order_line_ids[0].price_unit"/>
                                    </t>3-->
                                </td>
                                <t t-if="single_total_discount">
                                    <td class="text-right">
                                        <span t-field="l.discount" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                </t>
                                <td class="text-right">
                                    <span t-field="l.price_subtotal" t-options='{"widget": "float", "precision": 2}'/>
                                </td>

                                <t t-set="price_subtotal" t-value="price_subtotal + l.price_unit" />
                                <t t-set="discount_total" t-value="discount_total + l.discount" />

                            </tr>

                            <t t-if="discount_total">
                                <tr>
                                    <td colspan="3" style="border-bottom:none"> </td>
                                    <td><strong>Discount</strong></td>
                                    <td class="text-right"> </td>
                                    <td class="text-right"><span t-esc="discount_total" t-options='{"widget": "float", "precision": 2}'/></td>
                                    <td> </td>
                                </tr>

                            </t>

                            <tr>
                                <td rowspan="4" colspan="3" style="border-top:none"> </td>
                                <td style="white-space: nowrap;"><strong>Sub Total</strong></td>
                                <td> </td>
                                <t t-if="single_total_discount"><td> </td></t>
                                <td class="text-right"><span t-field="doc.amount_untaxed_inclusive" t-options='{"widget": "float", "precision": 2}'/></td>
                            </tr>
                            <t t-set="price_vat" t-value="get_price_vat(doc.order_line)" />
                            <t t-set="price_amount_total" t-value="price_vat + price_subtotal" />
                            <tr>
                                <td><strong>VAT (5%)</strong></td>

                                <td> </td>
                                <t t-if="single_total_discount"><td> </td></t>
                                <td class="text-right">
                                    <span t-field="doc.amount_tax_inclusive" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                            </tr>
                            <tr>
                                <td class="bbis_so_th_prod_qty" style="white-space: nowrap;"><strong>Total Incl. VAT</strong></td>
                                <td> </td>
                                <t t-if="single_total_discount"><td> </td></t>
                                <td class="text-right">
                                    <strong>
                                        <span t-field="doc.amount_total_inclusive" t-options='{"widget": "float", "precision": 2}'/>
                                    </strong>
                                </td>
                            </tr>
                        </tbody>
                        <tr>
                            <td colspan="7" class="bbis-sale-quote-order-table-title text-center">
                                Total Amount in Words: <span t-esc="doc.currency_id.name"/> <span t-esc="convert_num_to_word(doc, doc.amount_total_inclusive)"/>
                            </td>
                        </tr>
                    </table>
                </t> <!-- End: Sale Type for Unit, Walk In and Renewal -->

                <!-- Sale Type for Lease / Rental -->
                <t t-if="doc.sale_type in ('lease', 'rental')">
                    <table class="bbis-sale-quote-order-items-table" id="bbisSaleOrderLinesTableHeight">
                        <tr>
                            <th class="text-center bbis_so_th_prod_sn">S/N</th>
                            <th class="text-center bbis_so_th_prod_code">Codes</th>
                            <th class="text-center bbis_so_th_prod_desc">Description</th>
                            <th class="text-center bbis_so_th_prod_qty">Quantity</th>
                            <th class="text-center bbis_so_th_prod_price">Monthly Unit Price</th>
                            <th class="text-center bbis_so_th_prod_discount">Contract Period</th>
                            <t t-if="single_total_discount">
                                <th class="text-center bbis_so_th_prod_discount">Discount</th>
                            </t>
                            <th class="text-right bbis_so_th_prod_amount">
                                <span groups="sale.group_show_price_subtotal">Amount</span>
                                <span groups="sale.group_show_price_total">Amount</span>
                            </th>
                        </tr>
                        <tbody>

                            <t t-set="price_subtotal" t-value="0.0" />
                            <t t-set="discount_total" t-value="0.0" />

                            <tr t-foreach="doc.inclusive_order_line" t-as="l">

                                <t t-set="unique_products" t-value="get_unique_products(l.order_line_ids)" />

                                <td class="text-center"><span t-esc="l_index + 1" /></td>
                                <td class="text-center">
                                    <t t-if="unique_products.get('products') == 1">
                                        <span t-field="l.order_line_ids[0].product_id.default_code"/>
                                    </t>
                                    <t t-else="">N/A</t>
                                </td>
                                <td>
                                    <t t-if="l.name">
                                        <pre class="bbis_word_wrap_description" t-esc="l.name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-foreach="l.order_line_ids" t-as="o">
                                            <div t-esc="o.name[o.name.find('] ')+1:]"/>
                                            <div style="height:7px" t-if="(o_index + 1) &lt; len(l.order_line_ids)"/>
                                        </t>
                                    </t>
                                </td>
                                <td class="text-center">
                                    <!--<t t-if="get_unique_products(l.order_line_ids) == 1">-->
                                    <t t-if="unique_products.get('products') == 1 and unique_products.get('price_units') == 1">
                                        <!--<span t-field="l.group_quantity" t-options='{"widget": "float", "precision": 0}'/>-->
                                        <t t-set="quantity" t-value="l.group_quantity"/>
                                    </t>
                                    <t t-else="">
                                        <!--<span t-field="l.quantity" t-options='{"widget": "float", "precision": 0}'/>-->
                                        <t t-set="quantity" t-value="l.quantity"/>
                                    </t>

                                    <span t-esc="quantity" t-options='{"widget": "float", "precision": 0}'/>
                                </td>
                                <td class="text-right">
                                    <!--<t t-if="get_unique_products(l.order_line_ids) == 1">-->
                                    <t t-if="unique_products.get('products') == 1 and unique_products.get('price_units') == 1">
                                        <t t-set="price_unit" t-value="l.order_line_ids[0].price_unit"/>
                                        <!--<span t-field="l.order_line_ids[0].price_unit" t-options='{"widget": "float", "precision": 2}'/>-->
                                    </t>
                                    <t t-else="">
                                        <t t-set="price_unit" t-value="l.price_unit"/>
                                        <!--<span t-field="l.price_unit" t-options='{"widget": "float", "precision": 2}'/>-->
                                    </t>

                                    <span t-esc="price_unit" t-options='{"widget": "float", "precision": 3}'/>
                                </td>
                                <td class="text-center">
                                    <!-- <span t-if="l.order_line_ids[0].product_id.type == 'product' and l.order_line_ids[0].product_id.categ_id.enable_total" t-field="doc.contract_period"/>-->
                                    <span t-if="has_contract_period(l.order_line_ids)" t-field="doc.contract_period"/>
                                </td>
                                <t t-if="single_total_discount">
                                    <td class="text-right">
                                        <span t-field="l.discount" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                </t>
                                <td class="text-right">
                                    <span t-field="l.price_subtotal" t-options='{"widget": "float", "precision": 2}'/>
                                </td>

                                <t t-set="price_subtotal" t-value="price_subtotal + l.price_unit" />
                                <t t-set="discount_total" t-value="discount_total + l.discount" />

                            </tr>

                            <t t-if="discount_total">
                                <tr>
                                    <td colspan="3" style="border-bottom:none"> </td>
                                    <td><strong>Discount</strong></td>
                                    <td class="text-right"> </td>
                                    <td class="text-right"> </td>
                                    <td class="text-right"><span t-esc="discount_total" t-options='{"widget": "float", "precision": 2}'/></td>
                                    <td> </td>
                                </tr>

                            </t>

                            <tr>
                                <td rowspan="4" colspan="3" style="border-top:none"> </td>
                                <td style="white-space: nowrap;"><strong>Sub Total</strong></td>
                                <td> </td>
                                <td> </td>
                                <t t-if="single_total_discount"><td> </td></t>
                                <td class="text-right"><span t-field="doc.amount_untaxed_inclusive" t-options='{"widget": "float", "precision": 2}'/></td>
                            </tr>
                            <t t-set="price_vat" t-value="get_price_vat(doc.order_line)" />
                            <t t-set="price_amount_total" t-value="price_vat + price_subtotal" />
                            <tr>
                                <td><strong>VAT (5%)</strong></td>
                                <td> </td>
                                <td> </td>
                                <t t-if="single_total_discount"><td> </td></t>
                                <td class="text-right">
                                    <span t-field="doc.amount_tax_inclusive" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                            </tr>
                            <tr>
                                <td class="bbis_so_th_prod_qty" style="white-space: nowrap;"><strong>Total Incl. VAT</strong></td>
                                <td> </td>
                                <td> </td>
                                <t t-if="single_total_discount"><td> </td></t>
                                <td class="text-right">
                                    <strong>
                                        <span t-field="doc.amount_total_inclusive" t-options='{"widget": "float", "precision": 2}'/>
                                    </strong>
                                </td>
                            </tr>
                        </tbody>
                        <tr>
                            <td colspan="8" class="bbis-sale-quote-order-table-title text-center">
                                Total Amount in Words: <span t-esc="doc.currency_id.name"/> <span t-esc="convert_num_to_word(doc, doc.amount_total_inclusive)"/>
                            </td>
                        </tr>
                    </table>
                </t><!-- End: Sale Type for Lease / Rental -->

                <!-- Addons Table : Check first if sale type is cash or purchase -->
                <t t-if="doc.addons_accessories_line and doc.sale_type in ('cash', 'purchase', 'lease', 'rental')">

                    <div t-if="doc.renewal_charges_pb" style="page-break-before: always;"/>

                    <div class="bbis-sale-quote-order-table-title-div">
                        Renewal Charges - After the Contract Period
                    </div>

                    <table class="bbis-sale-quote-order-addons-table" id="bbisSaleOrderLinesTableHeightAddons">
                        <tr>
                            <th class="text-center bbis_so_th_prod_sn">S/N</th>
                            <th class="text-center bbis_so_th_prod_code">Codes</th>
                            <th class="text-center">Description</th>
                            <th class="text-center bbis_so_th_prod_qty_addons">Qty</th>
                            <th class="text-center bbis_so_th_prod_price">Unit Price</th>
                            <th t-if="addons_discounts" class="text-center bbis_so_th_prod_price">Discount</th>
                            <th class="text-center bbis_so_th_prod_amount">Amount</th>
                        </tr>
                        <tr t-foreach="doc.addons_accessories_line" t-as="l">
                            <t t-if="l.product_id">
                                <td class="text-center"><span t-esc="l_index + 1" /></td>
                                <td class="text-center"><span t-field="l.product_id.default_code"/></td>
                                <td><span t-esc="l.name[l.name.find('] ')+1:]"/></td>
                                <td class="text-center">
                                    <span t-field="l.product_uom_qty" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.price_unit" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td t-if="addons_discounts" class="text-right">
                                    <span t-field="l.discount_line" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.price_subtotal" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                            </t>
                        </tr>
                    </table>
                </t><!-- End: Addons Table -->

                <!-- Optional Items Table: Check first if sale type is cash or purchase -->
                <t t-if="doc.addons_service_line and doc.sale_type in ('cash', 'purchase', 'lease', 'rental')">

                    <div t-if="doc.optional_items_pb" style="page-break-before: always;"/>

                    <div class="bbis-sale-quote-order-table-title-div">
                        Optional Items
                    </div>

                    <table class="bbis-sale-quote-order-addons-table" id="bbisSaleOrderLinesTableHeightOptional">
                        <tr>
                            <th class="text-center bbis_so_th_prod_sn">S/N</th>
                            <th class="text-center bbis_so_th_prod_code">Codes</th>
                            <th class="text-center">Description</th>
                            <th class="text-center bbis_so_th_prod_qty_addons">Qty</th>
                            <th class="text-center bbis_so_th_prod_price">Unit Price</th>
                            <th t-if="optional_discounts" class="text-center bbis_so_th_prod_price">Discount</th>
                            <th class="text-center bbis_so_th_prod_amount">Amount</th>
                        </tr>
                        <tr t-foreach="doc.addons_service_line" t-as="l">
                            <t t-if="l.product_id">
                                <td class="text-center"><span t-esc="l_index + 1" /></td>
                                <td class="text-center"><span t-field="l.product_id.default_code"/></td>
                                <td><span t-esc="l.name[l.name.find('] ')+1:]"/></td>
                                <td class="text-center">
                                    <span t-field="l.product_uom_qty" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.price_unit" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td t-if="optional_discounts" class="text-right">
                                    <span t-field="l.discount_line" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.price_subtotal" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                            </t>
                        </tr>
                    </table>
                </t><!-- End: Optional Items Table -->


                <!-- Terms and Conditions -->
                <div t-if="doc.terms_pb" style="page-break-before: always;"/>
                <div class="bbis-sale-quote-order-table-title-div">
                    Terms and Conditions
                </div>

                <table class="bbis-sale-order-terms-table">
                    <tr t-if="doc.report_warranty_line">
                        <th>Warranty:</th>
                        <td><span t-esc="', '.join([ lt.name or '' for lt in doc.report_warranty_line ])"/></td>
                    </tr>
                    <tr t-if="doc.contract_period_report_line">
                        <th>Contract Period:</th>
                        <td><span t-esc="', '.join([ lt.name or '' for lt in doc.contract_period_report_line ])"/></td>
                    </tr>
                    <tr t-if="doc.report_payment_terms_line">
                        <th>Payment Terms:</th>
                        <td><span t-esc="', '.join([ lt.name or '' for lt in doc.report_payment_terms_line ])"/></td>
                    </tr>
                    <tr t-if="doc.delivery_installation_schedule">
                        <th>Delivery Schedule:</th>
                        <td><span t-esc="', '.join([ lt.name or '' for lt in doc.delivery_installation_schedule ])"/></td>
                    </tr>

                    <tr t-if="doc.report_service_support">
                        <th>Communication Charges:</th>
                        <td><span t-esc="', '.join([ lt.name or '' for lt in doc.report_service_support ])"/></td>
                    </tr>
                    <tr t-if="doc.hosting_maintenance">
                        <th>Hosting &amp;amp; Maintenance Fees:</th>
                        <td><span t-esc="doc.hosting_maintenance"/></td>
                    </tr>
                    <tr t-if="doc.report_validity">
                        <th>Validity:</th>
                        <td><span t-esc="', '.join([ lt.name or '' for lt in doc.report_validity])"/></td>
                    </tr>

                    <tr t-if="doc.documentd_required">
                        <th>Required Documents:</th>
                        <td><span t-esc="doc.documentd_required"/></td>
                    </tr>
                    <tr t-if="doc.training">
                        <th>Training:</th>
                        <td><span t-esc="doc.training"/></td>
                    </tr>
                    <tr t-if="doc.device_ownership">
                        <th>Device Ownership:</th>
                        <td><span t-esc="doc.device_ownership"/></td>
                    </tr>
                    <tr t-if="doc.term_note">
                        <th>Note:</th>
                        <td><span t-esc="doc.term_note"/></td>
                    </tr>
                    <tr t-if="doc.minimum_billing_quantity">
                        <th>Minimum Billing Quantity:</th>
                        <td><span t-esc="doc.minimum_billing_quantity"/></td>
                    </tr>
                    <tr t-if="doc.tc_vehicle_details">
                        <th>Vehicle Details:</th>
                        <td><span t-esc="doc.tc_vehicle_details"/></td>
                    </tr>
                </table><!-- End: Terms and Conditions -->

                <!-- Vehicle Details -->
                <t t-if="doc.sale_type == 'pilot' or doc.sale_type == 'lease' or doc.sale_type == 'rental'">
                    <t t-if="len(vehicles) >= 1">

                        <div t-if="doc.vehicles_pb" style="page-break-before: always;"/>

                        <div class="bbis-sale-quote-order-table-title-div">
                            Vehicle Details
                        </div>
                        <table class="bbis-sale-quote-order-items-table">
                            <tr>
                                <th class="text-center" style="width:50px">S/N</th>
                                <th class="text-center">Vehicle Details</th>
                                <th class="text-center">Device Serial No.</th>
                                <th class="text-center">NEW Renewal Covered Period</th>
                            </tr>

                            <t t-foreach="vehicles" t-as="v">
                                <tr>
                                    <td class="text-center"><span t-esc="v_index + 1"/></td>
                                    <td class="text-center"><span t-esc="v.get('vehicle')"/></td>
                                    <td class="text-center"><span t-esc="v.get('serial')"/></td>
                                    <td class="text-center">
                                        <span t-esc="v.get('start_date')" t-options='{"widget": "date", "format":"dd/MM/Y"}'/>
                                        to
                                        <span t-esc="v.get('end_date')" t-options='{"widget": "date", "format":"dd/MM/Y"}'/>
                                    </td>
                                </tr>
                            </t>
                        </table>
                    </t>
                </t>

            </div>
        </div>
        <div class="footer" style="padding-top:10px;">
            <div style="border-top: 1px solid black;" />
            <ul class="list-inline bbis-footer-social-link-ul text-center">
                <li>
                    <img src="/bbis_reports/static/src/img/address.jpg" alt="Address" />
                    <span>Tamouh Tower, 22-C1, Marina Square, Al Reem Island, Abu Dhabi, UAE - P.O. Box 39366</span>
                </li>
                <li>
                    <img src="/bbis_reports/static/src/img/phone.jpg" alt="Phone" />
                    <span>+971 2 643 6640</span>
                </li>
                <li>
                    <img src="/bbis_reports/static/src/img/fax.jpg" alt="Fax" />
                    <span>+971 2 643 6642</span>
                </li>
                <li>
                    <img src="/bbis_reports/static/src/img/email.jpg" alt="Email" />
                    <span>blackbox@fms-tech.com</span>
                </li>
                <li>
                    <img src="/bbis_reports/static/src/img/web.jpg" alt="Email" />
                    <span>www.fms-tech.com</span>
                </li>
            </ul>
        </div>
    </template>
    <template id="sale_quotation_order_inclusive">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="bbis_reports.sale_quotation_order_document_inclusive" />
            </t>
        </t>
    </template><!-- End: Report Template -->
</odoo>