<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="res_inherit_company_id" model="ir.ui.view">
        <field name="name">res.company.inherit</field>
        <field name="model">res.company</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="base.view_company_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[last()]" position="after">
                <page string="Signatures">
                    <group>
                        <group>
                            <field name="emp_signature" widget="image" class="oe_avatar"/>
                        </group>
                        <group>
                            <field name="manager_signature" widget="image" class="oe_avatar"/>
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="hr_signature" widget="image" class="oe_avatar"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>



     <record id="view_hr_work_home_tree" model="ir.ui.view">
        <field name="name">hr.work.home.tree</field>
        <field name="model">hr.work.home</field>
        <field name="arch" type="xml">
            <tree string="Period">
                <field name="employee_id"/>
                <field name="from_date"/>
                <field name="to_date"/>
                <field name="no_of_days"/>
                <field name="leave_type"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="view_hr_work_home_form" model="ir.ui.view">
        <field name="name">hr.work.home.form</field>
        <field name="model">hr.work.home</field>
        <field eval="12" name="priority"/>
        <field name="arch" type="xml">
            <form string="Period Lock">
                <header>
                    <button name="button_confirm" string="Confirm" states='draft' type="object" class="oe_highlight" groups='hr.group_hr_manager'/>
                    <button name="ceo_approved" string="Ceo Approved" states='confirm' type="object" class="oe_highlight" groups='hr_work_from_home.group_fms_ceo'/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <group string="Employee Details">
                        <group>
                            <field name="employee_id" required="1"/>
                            <field name="job_id"/>
                        </group>
                        <group>
                            <field name="department_id"/>
                            <field name="job_date"/>
                            <field name="user_id"/>
                        </group>
                    </group>
                    <group string="Work Details">
                        <group>
                            <field name="from_date" required="1"/>
                            <field name="no_of_days"/>
                        </group>
                        <group>
                            <field name="to_date" required="1"/>
                            <field name="leave_type"  widget="radio" options="{'horizontal':true}"/>
                            <field name="resign" attrs="{'invisible': [('leave_type', '!=', 'others')]}"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Address Details">
                            <group>
                                <group>
                                    <label string="Remote Address"/>
                                    <div class="o_address_format">
                                        <field name="street" placeholder="Street..." class="o_address_street" required='1'/>
                                        <field name="street2" placeholder="Street 2..." class="o_address_street" />
                                        <field name="city" placeholder="City" class="o_address_city" required='1' />
                                        <field name="state_id" class="o_address_state" placeholder="State"/>
                                        <field name="add_zip" placeholder="ZIP" class="o_address_zip"/>
                                        <field name="country_id" placeholder="Country" class="o_address_country" required='1'/>
                                    </div>
                                </group>
                                <group>
                                    <field name="phone" required="1"/>
                                </group>
                            </group>
                            <field name="reason_work_from_home" placeholder="Purpose / Reason for Working at Home"/>
                        </page>
                        <page string="Working Schedule">
                            <field name="schedule_ids">
                                <tree editable="bottom">
                                    <field name="days"/>
                                    <field name="start_time"/>
                                    <field name="end_time"/>
                                    <field name="work_home_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Agreement Status">
                            <label string="1) Proposed work from home schedule will notaffect the operations negatively."/>
                            <field name="is_negatively" widget="radio" options="{'horizontal':true}"/><br/><br/>
                            <label string="2) The practice will not cause overtime or additional workload."/>
                            <field name="is_workload" widget="radio" options="{'horizontal':true}"/><br/><br/>
                            <label string="3) Employee performance can be monitored / tracked during work from home practice"/>
                            <field name="is_practice" widget="radio" options="{'horizontal':true}"/><br/><br/>
                            <label string="4) Approval of the Request"/>
                            <field name="is_request" widget="radio" options="{'horizontal':true}"/><br/><br/>
                            <label string="5) Approval of the Request"/><br/><br/>
                            <field name="considerations"/>
                        </page>
                    </notebook> 
                </sheet>
            </form>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_draft_hr_work_home">
        <field name="name">Submit Work From Home Request</field>
        <field name="res_model">hr.work.home</field>
        <!--          <field name="view_type">form</field>-->
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', 'in', ['draft', 'confirm'])]</field>
    </record>

    <record model="ir.actions.act_window" id="action_confirm_hr_work_home">
        <field name="name">Approved Work Request</field>
        <field name="res_model">hr.work.home</field>
        <!--          <field name="view_type">form</field>-->
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', '=', 'ceo_approved')]</field>
    </record>

    <menuitem id="menu_hr_work_home_main" name="Work From Home" parent="hr.menu_hr_root" sequence="6"/>

    <menuitem action="hr.open_module_tree_department" id="hr.menu_hr_department_tree" parent="hr.menu_human_resources_configuration" sequence="90" groups="hr.group_hr_user"/>

    <menuitem id="fms_hrms.menu_human_resources_emp_arrears" name="Employee Arrear" action="fms_hrms.action_salary_arrear" parent="hr.menu_human_resources_configuration" sequence="98"/>

    <menuitem id="menu_draft_work_home" name="Submit Work Requests" action="action_draft_hr_work_home" parent="hr_work_from_home.menu_hr_work_home_main" sequence="1"/>

    <!--<menuitem id="menu_confirm_work_home" name="Approved Work Requests" action="action_confirm_hr_work_home" parent="hr_work_from_home.menu_hr_work_home_main" sequence="2" />-->

    <menuitem id="view_all_employee_list" parent="hr.menu_hr_root" name="Employees" sequence="1"/>

    <menuitem id="hr.menu_open_view_employee_list_my" action="hr.open_view_employee_list_my" parent="view_all_employee_list" sequence="1"/>

    <menuitem id="hr_contract.hr_menu_contract" name="Contracts" action="hr_contract.action_hr_contract" parent="view_all_employee_list" sequence="2" groups="hr.group_hr_manager"/>

</odoo>
