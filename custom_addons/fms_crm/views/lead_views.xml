<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
<!--
		#CHOOSE CUSTOMER TYPES IN CUSTOMER MASTER
-->
		<record id="customer_master_inherit" model="ir.ui.view">
					<field name="name">partner</field>
					<field name="model">res.partner</field>
					<field name="inherit_id" ref = "base.view_partner_form"/>
					<field name="arch" type="xml">
						<xpath expr="/form/sheet/group/group/field[@name='function']" position="before">

							<field name="customer_types" attrs="{'required':[('customer','=',True)]}"/>
						</xpath>
					</field>
		</record>
		
		<!--#Creating states(instead of stages) ,buttons  for Authorization Rquired in CRM-->
		<record id="crm_form_inherit_view" model="ir.ui.view">
					<field name="name">crm</field>
					<field name="model">crm.lead</field>
					<field name="inherit_id" ref = "crm.crm_case_form_view_oppor"/>
					<field name="arch" type="xml">
						<xpath  expr="/form/header" position="replace">
							<header>
								<field name="state_type" widget="statusbar" statusbar_visible="draft,in_progress,qualified,won,lost"/>
								<button name="initial_approval" string="Approve"  type="object" groups="sales_team.group_sale_manager" attrs="{'invisible': [('state_type', '!=', 'draft')]}" />
								<button name="manager_approval_lead" string="Qualified" type="object" groups="sales_team.group_sale_manager"  attrs="{'invisible': [('state_type', '!=', 'in_progress')]}"/>
								<button name="new_quotation" string="New Quotation" type="object"   attrs="{'invisible': ['|',('state_type', '!=', 'qualified'),('pilot_lead', '=', 'pilot'),('pilot_status_inlead','!=','success')]}"  class="oe_highlight" />
								<button name="pilot_quotation" string="Pilot Quotation" type="object" attrs="{'invisible': ['|','|',('pilot_lead', '!=', 'pilot'),('pilot_status_inlead','=','success'),('state_type','!=','qualified')]}" class="oe_highlight"/>
								<button name="manager_reject_lead" string="reject" type="object" groups="sales_team.group_sale_manager" attrs="{'invisible': [('state_type', 'not in', ('qualified','in_progress'))]}" />
							</header>
						</xpath>
						<!--#captureing Related Details here-->
						<xpath expr="/form/sheet/group/group/field[@name='date_deadline']" position="after">
									<field name="lead_type"/>
						<!-- Removed customer and PO details-->
<!--
									<field name="document_capture" />
									<field name="po_capture" attrs="{'invisible':[('state_type', '!=', 'qualified')]}"/>
-->
									<field name="pilot_lead" attrs="{'invisible': [('state_type', '!=', 'qualified')]}"/>
						<!--Return Date Changes -->
                                    <field name="return_date" attrs="{'invisible': [('pilot_lead', '!=', 'pilot')],'required': [('pilot_lead', '!=', 'non_pilot')]}"/>
						</xpath>
						<!-- Customer Type Changes -->
                        <xpath expr="/form/sheet/group/group/field[@name='partner_id']" position="after">
                                    <field name="customer_types"/>
                        </xpath>

						<xpath expr="/form/sheet/group/group/field[@name='partner_id']" position="before">
							<field name="pilot_status_inlead" attrs="{'invisible': [('state_type', 'not in', ['qualified','won'])],'readonly':[('state_type','in',['qualified','won'])]}"/>
						</xpath>

						<xpath expr="/form/sheet/group/group/field[@name='team_id']" position="replace">
							<field name="team_id" required="True"/>
						</xpath>
						<xpath expr="//form/sheet/div/h2/div/div/field[@name='planned_revenue']" position="attributes">
							<attribute name='invisible'>1</attribute>
						</xpath>
						<xpath expr="//form/sheet/div/h2/div/div" position="replace">
							  <span class="oe_grey" invisible="1"> at </span>
						</xpath>
						<xpath expr="//form/sheet/div/h2/div/label" position="replace">
							<label for="planned_revenue" class="oe_edit_only" invisible="1"/>
						</xpath>
						<xpath expr="//form/sheet/div/h2/div[2]/label" position="replace">
							<label for="probability" class="oe_edit_only" invisible="1"/>
						</xpath>
						<xpath expr="//form/sheet/div/h2/div/div/field[@name='probability']" position="replace">
							<field name="probability" widget="integer" invisible="1"/>
						</xpath>
						<xpath expr="//form/sheet/div/h2/div/div/span" position="replace">
							  <span invisible="1">%</span>
						</xpath>
						<xpath expr="//form/sheet/notebook/page/group/group/field[@name='opt_out']" position="attributes">
							<attribute name="invisible">1</attribute>
						</xpath>
						<xpath expr="//form/sheet/notebook/page/group/group[@name='Misc']" position="attributes">
							<attribute name="invisible">1</attribute>
						</xpath>
						<xpath expr="//form/sheet/notebook/page/group/group[3]" position="attributes">
							<attribute name="invisible">1</attribute>
						</xpath>
						<xpath expr="//form/sheet/group/group/field[@name='priority']" position="attributes">
							<attribute name="invisible">1</attribute>
						</xpath>
						<xpath expr="//form/sheet/group/group/field[@name='tag_ids']" position="attributes">
							<attribute name="invisible">1</attribute>
						</xpath>
						<!-- Lead type string name changed to Lead source -->
						<field name='lead_type' position='attributes'>
							<attribute name='string'>Lead Source</attribute>
						</field> 




					</field>
		</record>
	<!--#FOR INVISIBLE PRIORITY TAGS IN KANBAN VIEW-->
	<record id="crm_kanban_view_inherit_new" model="ir.ui.view">
		<field name="name" >crm</field>
		<field name="model">crm.lead</field>
		<field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
		<field name="arch" type="xml">
			<xpath expr="//kanban/templates/t/div/div/div/div/field[@name='priority']" position="attributes">
				<attribute name="invisible">1</attribute>
			</xpath>
			<kanban position="attributes">
				<attribute name="group_create">false</attribute>
			</kanban>
			<kanban position="attributes">
				<attribute name="disable_drag_drop_record">true</attribute>
			</kanban>
		</field>
	</record>

	<!--#for pilot order confirmation is success and create a new so -->
		<record id="sale_form_inherit_view_new" model="ir.ui.view">
							<field name="name">sale</field>
							<field name="model">sale.order</field>
							<field name="inherit_id" ref = "sale.view_order_form"/>
							<field name="arch" type="xml">
								<xpath expr="/form/header/button[@name='action_cancel']" position="after">
									<button name="action_reject" string="Pilot Reject"  class="oe_highlight" type="object" attrs="{'invisible':['|','|',('state','in',['draft','reject']),('pilot_status','not in','failed'),('sale_type','!=','pilot')]}"/>
								</xpath>

								<xpath  expr="/form/sheet/group/group/field[@name='confirmation_date']" position="before">
									<field name="pilot_status"  attrs="{'invisible':['|',('state','!=', 'sale'),('sale_type','!=','pilot')]}"/>
								</xpath>
<!--
								<xpath expr="/form/header/button[@name='action_confirm']" position="replace">
									<button name="action_confirm" string="Confirm Sale" type="object" attrs="{'invisible': ['|',('state', '!=', 'draft'),('sale_type','!=','pilot')]}"/>
								</xpath>
-->
<!--
								<xpath expr="/form/sheet/div/button[@name='action_view_delivery']" position="replace">
									 <button type="object" name="action_view_delivery" class="oe_stat_button" icon="fa-truck"  groups="base.group_user">
                        				<field name="delivery_count" widget="statinfo" string="Delivery"/>
                 					 </button>
								</xpath>
-->
							</field>
		</record>
<!--DIFFER FROM MAKETING TEAM-->
		<record id="sales_team_inherit_view_new" model="ir.ui.view">
			<field name="name">crm</field>
			<field name="model">crm.team</field>
			<field name="inherit_id" ref = "sales_team.crm_team_view_form"/>
			<field name="arch" type="xml">
					<xpath expr="/form/sheet/group/group/field[@name='team_type']" position="before">
						<field name="is_sale" />
					</xpath>
			</field>
		</record>

	<!--#stock.picking-->
	<record id="stock_picking_inherit_view_new" model="ir.ui.view">
		<field name="name">stock</field>
		<field name="model">stock.picking</field>
		<field name="inherit_id" ref="stock.view_picking_form"/>
		<field name="arch" type="xml">
<!--
			<xpath expr="/form/sheet/group/group/field[@name='origin']" position="after">
				<field name="sale_order_id"/>
			</xpath>
-->
			<xpath expr="/form/sheet/group/group/field[@name='location_dest_id']" position="replace">
				<field name="location_dest_id" attrs="{'readonly': [('state','in',['done','cancel'])]}"/>
			</xpath>
			<xpath expr="/form/sheet/notebook/page/field/tree/field[@name='location_dest_id']" position="replace">
				<field name="location_dest_id"/>
			</xpath>
		</field>

	</record>
	
	</data>
</odoo>









				






			
	
				
					
			
	
