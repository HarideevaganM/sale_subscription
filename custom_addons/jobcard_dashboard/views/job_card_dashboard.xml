<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="job_card_form_dashboard_kanban_id" model="ir.ui.view">
            <field name="name">job.card.form.dashboard.kanban</field>
            <field name="model">jobcard.dashboard</field>
            <field name="arch" type="xml">
                <kanban class="oe_background_grey o_kanban_dashboard o_emphasize_colors o_stock_kanban" create="0">
                    <field name="name"/>
                    <field name="open_card"/>
                    <field name="approve_card"/>
                    <field name="color"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="#{kanban_color(record.color.raw_value)}" name="job_card_form" >
								<div>
									<div t-attf-class="o_kanban_card_header">
										<div class="o_kanban_card_header_title" style="color:#010200;font-size:14px;">
											<div class="o_primary">
												<t t-if=" name != '' ">
													<span><b><field name="name" groups="fms_sale.group_manager,fms_sale.group_engineer"/></b></span>
												</t>
												<t t-if="sale_order_id != '' ">
													<span><b><field name="sale_order_id" groups="fms_sale.group_manager,fms_sale.group_engineer"/></b></span>
												</t>
											</div>
										</div>
										<div class="o_kanban_manage_button_section">
											<a class="o_kanban_manage_toggle_button" href="#"><i class="fa fa-ellipsis-v" /></a>
										</div>
									  </div>
									  <div class="container o_kanban_card_content">
											<div class="row" style="padding-bottom:12px;padding-top:10px;">
												<div class="col-xs-6 o_kanban_primary_left">
													<button class="btn btn-success " name="view_open_cards" type="object" groups="fms_sale.group_manager,fms_sale.group_engineer">
                                                        <span> <field name="open_card"/>  Open Cards</span>
													</button>
												</div>
											</div>
										  	<div class="row">
												<div class="col-xs-6 o_kanban_primary_left">
													<button  class="btn btn-info active" name="view_submitted_cards" type="object" groups="fms_sale.group_manager">
                                                        <span> <field name="approve_card"/>  To Approve</span>
													</button>
												</div>
											</div>

										  	<div class="row">
												<div class="pull-right">
													<a  name="open_job_card_view" type="object"
														style="font-color:#42edd3;padding-right:45px;" groups="fms_sale.group_manager,fms_sale.group_engineer">
														<span><b style="color:#314200;font-size:13px;">Configured</b></span>
													</a>
												</div>
										  	</div>
										  	<div class="row">
												<div class="pull-right">
													<a  name="installed_job_card_view" type="object"
														style="font-color:#42d9ed;padding-right:45px;" groups="fms_sale.group_manager,fms_sale.group_engineer">
														<span><b style="color:#010e63;font-size:13px;">Installed</b></span>
													</a>
												</div>
										  	</div>
										  	<div class="row">
												<div class="pull-right">
													<a name="approve_job_card_view" type="object"
															style="font-color:#42b6f4;padding-right:45px;" groups="fms_sale.group_manager">
														<span><b style="color:#046068;font-size:13px;">To approve</b></span>
													</a>
												</div>
									  		</div>
									  </div>
									<div class="container o_kanban_card_manage_pane">
										<div class="row">
											<div t-if="widget.editable" class="o_kanban_card_manage_settings row">
												<div class="col-xs-8">
													<ul class="oe_kanban_colorpicker" data-field="color"/>
												</div>
												<!--<div class="col-xs-4 text-right">-->
													<!--<a type="edit">Settings</a>-->
												<!--</div>-->
											</div>
										</div>
									</div>
                                </div>
                            </div>
                         </t>

                    </templates>

                </kanban>
              </field>
        </record>


    <record id="job_card_dashboard_form_view" model="ir.ui.view">
          <field name="name">job.card.dashboard.form.view</field>
          <field name="model">jobcard.dashboard</field>
          <field name="arch" type="xml">
               <form>
				   <sheet string="Job Card">
					    <h4>
						   <group>
							  <field name="name"></field>
						   </group>
					   </h4>

						   			<style>
										.button1 {
										  border-radius: 1px;
										  background-color: #aa9594;
										  border: none;
										  color: #FFFFFF;
										  text-align: left;
										  font-size: 14px;
										  width: 150px;
										  <!--transition: all 0.5s;-->
										  cursor: pointer;
										  margin: 2px;
										}

										.button1 span {
										  cursor: pointer;
										  display: inline-block;
										  position: relative;
										  transition: 0.5s;
										}

										.button1 span:after {
										  content: '\00bb';
										  position: absolute;
										  opacity: 0;
										  top: 0;
										  right: -20px;
										  transition: 0.5s;
										}

										.button1:hover span {
										  padding-right: 25px;
										}

										.button1:hover span:after {
										  opacity: 1;
										  right: 0;
										}
									</style>
									<style>
										.button2 {
										  border-radius: 1px;
										  background-color:#707c47;
										  border: none;
										  color: #FFFFFF;
										  text-align: left;
										  font-size: 14px;
										  width: 150px;
										  cursor: pointer;
										  margin: 2px;
										}

										.button2 span {
										  cursor: pointer;
										  display: inline-block;
										  position: relative;
										  transition: 0.5s;
										}

										.button2 span:after {
										  content: '\00bb';
										  position: absolute;
										  opacity: 0;
										  top: 0;
										  right: -20px;
										  transition: 0.5s;
										}

										.button2:hover span {
										  padding-right: 25px;
										}

										.button2:hover span:after {
										  opacity: 1;
										  right: 0;
										}
									</style>

									<group>
										<button name="view_open_cards" type="object" groups="fms_sale.group_manager,fms_sale.group_engineer"
											class="button button1">
											<span> <field name="open_card" />  Open Cards</span>
										</button>
									</group>
									<group>
										<button  class="button button2" name="view_submitted_cards" type="object" groups="fms_sale.group_manager">
											<span> <field name="approve_card"/>  To Approve</span>
										</button>
							   		</group>
					</sheet>
              </form>
         </field>
     </record>
	<record id="job_card_dashboard_tree_views" model="ir.ui.view">
          <field name="name">job.card.dashboard.tree.view</field>
          <field name="model">jobcard.dashboard</field>
          <field name="arch" type="xml">
               <tree string="Job Cards">
                   <field name="name"/>
                   <field name="open_card"/>
                   <field name="approve_card"/>
              </tree>
         </field>
     </record>
     <record id="dashboard_search_view" model="ir.ui.view">
		<field name="name">dashboard.search.view</field>
		<field name="model">jobcard.dashboard</field>
		<field name="arch" type="xml">
			<search string="Dashboard">
				<filter name="name" string="Name" icon="terp-partner" context="{'group_by':'name'}"/>
				<filter name="open_card" string="Open Cards" icon="terp-partner" context="{'group_by':'open_card'}"/>
				<filter name="to_approve_card" string="To Approve" icon="terp-partner" context="{'group_by':'approve_card'}"/>
				<!--<filter name="engineer" string="engineer" icon="terp-partner" context="{'group_by':'approve_card'}"/>-->
			</search>
		</field>
	</record>

    <record id="job_card_form_dashboard_action" model="ir.actions.act_window">
        <field name="name">Dashboard </field>
        <field name="res_model">jobcard.dashboard</field>
        <field name="type">ir.actions.act_window</field>
        <!--          <field name="view_type">form</field>-->
        <field name="context">{}</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>

<menuitem
		id="dashboard_menu"
		name="Job Card Dashboard"
        action="job_card_form_dashboard_action"
        parent="odoo_job_costing_management.menu_job_cost_orders"
		sequence="6" groups="fms_sale.group_manager,fms_sale.group_engineer"/>
</odoo>
