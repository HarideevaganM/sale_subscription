<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="view_hr_work_home_form_inherit" model="ir.ui.view">
        <field name="name">hr.work.home.form.inherit</field>
        <field name="model">hr.work.home</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="hr_work_from_home.view_hr_work_home_form"/>
        <field name="arch" type="xml">

            <xpath expr="//button[@name='button_confirm']" position="after">
                <button name="mngr_approval" string="Manager Approval" states='confirm' type="object" class="oe_highlight"/>
                <button name="hr_approved" string="HR Approval" states='mngr_approved' type="object" class="oe_highlight" groups='hr.group_hr_manager'/>
            </xpath>
            <xpath expr="//button[@name='ceo_approved']" position="after">
                <button name="action_refuse" string="Refuse" states='mngr_approved,hr_approved,ceo_approved' type="object" class="oe_highlight"/>
            </xpath>
            <xpath expr="//button[@name='action_refuse']" position="after">
                <button name="action_reset" string="Reset To Draft" states='refused' type="object" groups='hr.group_hr_manager'/>
            </xpath>

            <xpath expr="//button[@name='ceo_approved']" position="attributes">
                <!--<attribute name="attrs">{'invisible':[('state','!=','hr_approved')]}</attribute>-->
                <attribute name="string">CEO Approval</attribute>
                <attribute name="states">hr_approved</attribute>
            </xpath>

            <xpath expr="//field[@name='leave_type']" position="attributes">
                <attribute name="groups">hr.group_hr_manager</attribute>
            </xpath>

            <xpath expr="//button[@name='button_confirm']" position="attributes">
                <attribute name="string">Submit</attribute>
                <attribute name="groups">base.group_user</attribute>
            </xpath>

            <xpath expr="//field[@name='department_id']" position="after">
                <xpath expr="//field[@name='job_id']" position="move"/>
            </xpath>

            <xpath expr="//field[@name='employee_id']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>

            <xpath expr="//field[@name='department_id']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>

            <xpath expr="//field[@name='job_id']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>
            <xpath expr="//field[@name='job_date']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>
            <xpath expr="//field[@name='user_id']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>
            <xpath expr="//page[2]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[3]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//sheet" position="after">
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </xpath>

        </field>
    </record>

    <record id="view_hr_work_home_form_inherit2" model="ir.ui.view">
        <field name="name">hr.work.home.form.inherit2</field>
        <field name="model">hr.work.home</field>
        <field name="inherit_id" ref="bbis_hr.view_hr_work_home_form_inherit"/>
        <field name="groups_id" eval="[(6, 0, [ref('hr.group_hr_manager')])]" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='employee_id']" position="attributes">
                <attribute name="readonly">0</attribute>
            </xpath>
        </field>
    </record>

    <record id="view_hr_work_home_tree_inherit" model="ir.ui.view">
        <field name="name">hr.work.home.tree.inherit</field>
        <field name="model">hr.work.home</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="hr_work_from_home.view_hr_work_home_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='leave_type']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.menu" id="hr_work_from_home.menu_hr_work_home_main">
        <field name="name">Work Request</field>
    </record>

    <record model="ir.ui.menu" id="hr_work_from_home.menu_draft_work_home">
        <field name="name">Work From Home</field>
    </record>

    <record model="ir.actions.act_window" id="hr_work_from_home.action_draft_hr_work_home">
        <field name="domain">[]</field>
    </record>

    <!--<menuitem name="Approved Work Requests"
            id="hr_work_from_home.menu_confirm_work_home"
            action="hr_work_from_home.action_confirm_hr_work_home"
            parent="hr_work_from_home.menu_hr_work_home_main"
            sequence="3"/>-->

</odoo>