<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <template id="message_hr_holidays">
            <div style="font-family:Arial; font-size: 14px;">
                <t t-if="mail_to in ('requester', 'refuse')">
                   <p>Dear <t t-esc="requester"/>,</p>
                </t>
                <t t-else="">
                    <p>Dear <t t-esc="next_approve"/>,</p>
                </t>
                <t t-if="mail_to == 'ceo_approve'">
                      <p>This is to notify you that the leave request has been approved by CEO.</p>
                </t>
                <t t-else="">
                    <t t-if="mail_to == 'refuse'">
                        <t t-if="mail_receive == 'employee'">
                            <p>This is to notify you that your leave request has been refused by <t t-esc="refuser"/>.</p>
                        </t>
                        <t t-else="">
                            <p>This is to notify you that <t t-esc="refuser"/> refused the leave request of <t t-esc="object.employee_id.name"/>.</p>
                        </t>
                    </t>
                    <t t-else="">
                        <t t-if="mail_to == 'requester'">
                            <p>This is to notify you that your leave request has been approved by <t t-esc="next_approve"/>.</p>
                        </t>
                        <t t-else="">
                            <t t-if="mail_to == 'delegate'">
                                <p>This is to notify you that new Leave Request has been submitted by <t t-esc="object.employee_id.name"/> and the work has been delegated to you.</p>
                            </t>
                            <t t-else="">
                                <p>This is to notify you that new Leave Request has been submitted by <t t-esc="object.employee_id.name"/>.
                                    <t t-if="mail_to == 'first_mail'"><br/>
                                        You can override leave approval if Officer/Manager did not approve this leave after 1 day.
                                    </t>
                                    <t t-else="">
                                        Please click the link below to view more information.
                                    </t>
                                </p>
                            </t>
                        </t>
                    </t>
                </t>

                <p style="line-height:1.2;">
                    <t t-if="mail_to == 'ceo_approve'">
                        Requester : <b t-esc="requester"/>
                    </t><br/>
                    Request Date : <t><span t-field="object.requested_date" t-field-options='{"format": "dd/MM/yyyy"}'/></t>
                    <br/>
                    Duration :
                    <t>
                        <span t-field="object.date_from" t-field-options='{"format": "dd/MM/yyyy"}'/></t>
                        - <t><span t-field="object.date_to" t-field-options='{"format": "dd/MM/yyyy"}'/>
                    </t>
                    <br/>
                    Reason for leave : <t t-esc="object.name"/>
                    <br/>
                    <t t-if="object.sudo().state != 'validate'">
                        <t t-if="object.sudo().next_approver_id">
                            Next Approver : <t t-esc="object.next_approver_id.name"/>
                        </t>
                        <br/>
                    </t>
                    <t t-if="object.sudo().delegate_to">
                        Work delegated to : <t t-esc="object.delegate_to"/>
                    </t>
                </p>

                <p>
                    <a t-attf-href="{{base_url}}/web#id={{object.id}}&amp;view_type=form&amp;model=hr.holidays"
                style="background-color: #2c286c; margin-top: 0px; border: 10px solid #2c286c; text-decoration: none; color: #fff; font-size: 14px;">
                View Leave Request</a>
                </p>
                <t t-call="bbis_hr.hr_default_email_footer"/>
            </div>
        </template>

        <!--Template for hr override notification-->
        <template id="hr_override_notification">
            <div style="font-family:Arial; font-size: 14px;">

                <p>Dear <t t-esc="next_approve"/>,</p>
                <p>This is to notify you that the leave request submitted by <t t-esc="object.employee_id.name"/> is pending for Officer/Manager approval and already exceeded one day. You may proceed overriding approval. </p>
                <p>Please click the link below to view more information.</p>

                <p style="line-height:1.2;">
                    <t t-if="mail_to == 'ceo_approve'">
                        Requester : <b t-esc="requester"/>
                    </t><br/>
                    Requested Date : <t><span t-field="object.requested_date" t-field-options='{"format": "dd/MM/yyyy"}'/></t>
                    <br/>Reason for leave : <t t-esc="object.name"/>

                    <t t-if="object.sudo().state != 'validate'">
                        <br/>
                        <t t-if="object.sudo().next_approver_id">
                            Next Approver : <t t-esc="object.next_approver_id.name"/>
                        </t>
                        <br/>
                    </t>
                    <t t-if="object.sudo().delegate_to">
                        Work delegated to : <t t-esc="object.delegate_to"/>
                    </t>
                </p>

                <p t-if="next_id">
                    <a t-attf-href="{{base_url}}/web#id={{object.id}}&amp;view_type=form&amp;model=hr.holidays"
                style="background-color: #2c286c; margin-top: 0px; border: 10px solid #2c286c; text-decoration: none; color: #fff; font-size: 14px;">
                View Leave Request</a>
                </p>
                <t t-call="bbis_hr.hr_default_email_footer"/>

            </div>
        </template>



    </data>
</odoo>